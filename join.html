<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta name="description"
        content="Join the Varaha Labs Network. We are looking for elite designers, developers, and AI specialists.">
    <title>Join the Network | Varaha Labs</title>

    <link rel="icon" type="image/svg+xml"
        href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%233b82f6' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z'%3E%3C/path%3E%3C/svg%3E">

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

    <!-- Firebase Connection Script -->
    <script type="module">
        // Firebase SDKs import
        import { signInAnonymously, onAuthStateChanged, GoogleAuthProvider, signInWithPopup } from 'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';
        import { collection, addDoc, serverTimestamp } from 'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';

        // Import initialized instances
        import { auth, db } from './Database.js';

        // App ID (Data ko sahi jagah save karne ke liye)
        const appId = window.__app_id || 'default-app-id';

        let currentUser = null;

        // 1. Authentication Logic (Auto Login & Google Login)
        const provider = new GoogleAuthProvider();

        const googleLoginBtn = document.getElementById('google-login-btn');
        const googleBtnText = document.getElementById('google-btn-text');
        const authSection = document.getElementById('auth-section');
        const userProfile = document.getElementById('user-profile');
        const userAvatar = document.getElementById('user-avatar');
        const userName = document.getElementById('user-name');
        const userEmail = document.getElementById('user-email');

        // Google Login Function
        if (googleLoginBtn) {
            googleLoginBtn.addEventListener('click', () => {
                signInWithPopup(auth, provider)
                    .then((result) => {
                        // This gives you a Google Access Token. You can use it to access the Google API.
                        const credential = GoogleAuthProvider.credentialFromResult(result);
                        const token = credential.accessToken;
                        // The signed-in user info.
                        const user = result.user;
                        console.log("Google User:", user);
                    }).catch((error) => {
                        // Handle Errors here.
                        const errorCode = error.code;
                        const errorMessage = error.message;
                        console.error("Google Login Error:", errorCode, errorMessage);
                        alert("Google Login Failed: " + errorMessage);
                    });
            });
        }

        onAuthStateChanged(auth, (user) => {
            if (user) {
                currentUser = user;
                console.log("User Connected ID:", user.uid);

                // If user is not anonymous (meaning they logged in via Google or other provider)
                if (!user.isAnonymous) {
                    // Update UI to show logged in state
                    if (authSection) authSection.classList.add('hidden');
                    if (userProfile) {
                        userProfile.classList.remove('hidden');
                        if (user.photoURL) userAvatar.src = user.photoURL;
                        if (user.displayName) userName.textContent = user.displayName;
                        if (user.email) userEmail.textContent = user.email;

                        // Auto-fill form fields
                        const nameInput = document.getElementById('name');
                        const emailInput = document.getElementById('email');
                        if (nameInput && !nameInput.value) nameInput.value = user.displayName || '';
                        if (emailInput && !emailInput.value) emailInput.value = user.email || '';
                    }
                }

            } else {
                // Fallback to anonymous login if not logged in
                signInAnonymously(auth).catch((error) => console.error("Login Failed:", error));

                // Reset UI
                if (authSection) authSection.classList.remove('hidden');
                if (userProfile) userProfile.classList.add('hidden');
            }
        });

        // 2. Form Submission Logic
        const applicationForm = document.getElementById('application-form');
        const successMessage = document.getElementById('success-message');
        const formContainer = document.getElementById('form-container');

        if (applicationForm) {
            applicationForm.addEventListener('submit', async (e) => {
                e.preventDefault(); // Page reload hone se rokna

                if (!currentUser) {
                    alert("Connection establishing... please wait.");
                    return;
                }

                // Button loading state
                const submitBtn = document.getElementById('submit-btn');
                const btnText = document.getElementById('btn-text');
                const btnIcon = document.getElementById('btn-icon');

                submitBtn.disabled = true;
                btnText.textContent = "SENDING DATA...";
                btnIcon.classList.add('hidden');
                submitBtn.classList.add('opacity-75', 'cursor-not-allowed');

                // Form se data collect karna
                const formData = {
                    personal: {
                        name: document.getElementById('name').value,
                        email: document.getElementById('email').value,
                        phone: document.getElementById('phone').value,
                        location: document.getElementById('location').value,
                    },
                    professional: {
                        role: document.getElementById('role').value,
                        experience: document.getElementById('experience').value,
                        portfolio: document.getElementById('portfolio').value,
                        linkedin: document.getElementById('linkedin').value,
                    },
                    insights: {
                        superpower: document.getElementById('superpower').value,
                        whyVaraha: document.getElementById('why-varaha').value,
                    },
                    meta: {
                        timestamp: serverTimestamp(), // Server ka time
                        userId: currentUser.uid,      // User ki ID
                        authProvider: currentUser.isAnonymous ? 'anonymous' : 'google',
                        status: 'new'
                    }
                };

                try {
                    // 3. Data Save Karna (Firestore)
                    // Hum 'freelance_applications' naam ke collection mein data daal rahe hain
                    await addDoc(collection(db, 'artifacts', appId, 'public', 'data', 'freelance_applications'), formData);

                    // Success Animation
                    gsap.to(formContainer, { opacity: 0, y: -20, duration: 0.5, display: 'none' });
                    successMessage.classList.remove('hidden');
                    gsap.fromTo(successMessage, { opacity: 0, scale: 0.9 }, { opacity: 1, scale: 1, duration: 0.5 });

                    applicationForm.reset();
                } catch (error) {
                    console.error("Data Save Error: ", error);
                    alert("Error saving data. Please try again.");

                    // Reset Button if error
                    submitBtn.disabled = false;
                    btnText.textContent = "INITIATE APPLICATION";
                    btnIcon.classList.remove('hidden');
                    submitBtn.classList.remove('opacity-75', 'cursor-not-allowed');
                }
            });
        }
    </script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Rajdhani:wght@300;400;500;600;700&display=swap');

        body {
            font-family: 'Rajdhani', sans-serif;
            background-color: #050505;
            color: #e2e8f0;
            overflow-x: hidden;
        }

        h1,
        h2,
        h3,
        .brand-font {
            font-family: 'Orbitron', sans-serif;
        }

        /* Form Styles */
        .input-group {
            position: relative;
        }

        .input-field {
            width: 100%;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 12px 16px;
            color: white;
            font-family: 'Rajdhani', sans-serif;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .input-field:focus {
            outline: none;
            border-color: #3b82f6;
            background: rgba(59, 130, 246, 0.05);
            box-shadow: 0 0 15px rgba(59, 130, 246, 0.1);
        }

        .input-label {
            display: block;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: #94a3b8;
            margin-bottom: 6px;
            font-weight: 600;
        }

        /* Glass Panel */
        .glass-panel {
            background: rgba(20, 20, 30, 0.6);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }

        /* Background Grid */
        .bg-grid {
            background-size: 40px 40px;
            background-image: linear-gradient(to right, rgba(255, 255, 255, 0.03) 1px, transparent 1px),
                linear-gradient(to bottom, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
        }

        /* Animations */
        @keyframes scan {
            0% {
                top: 0%;
                opacity: 0;
            }

            10% {
                opacity: 1;
            }

            90% {
                opacity: 1;
            }

            100% {
                top: 100%;
                opacity: 0;
            }
        }

        .scan-line {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(to right, transparent, #3b82f6, transparent);
            animation: scan 3s linear infinite;
            pointer-events: none;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: #0a0a0a;
        }

        ::-webkit-scrollbar-thumb {
            background: #3b82f6;
            border-radius: 10px;
        }

        /* Form Autofill Fix */
        input:-webkit-autofill,
        textarea:-webkit-autofill,
        select:-webkit-autofill {
            -webkit-box-shadow: 0 0 0 30px #111827 inset !important;
            -webkit-text-fill-color: white !important;
            transition: background-color 5000s ease-in-out 0s;
        }
    </style>
</head>

<body class="antialiased selection:bg-green-500 selection:text-white">

    <!-- Navigation -->
    <nav class="fixed w-full z-50 bg-black/80 backdrop-blur-md border-b border-white/10">
        <div class="max-w-7xl mx-auto px-6">
            <div class="flex items-center justify-between h-20">
                <a href="index.html" class="flex items-center gap-2 group">
                    <i data-lucide="arrow-left"
                        class="text-gray-400 w-5 h-5 group-hover:text-white transition-colors"></i>
                    <span class="brand-font text-lg font-bold text-white tracking-wider">BACK TO <span
                            class="text-blue-500">BASE</span></span>
                </a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <section class="min-h-screen pt-32 pb-20 px-4 relative overflow-hidden">
        <!-- Background Elements -->
        <div class="fixed inset-0 bg-grid opacity-30 pointer-events-none"></div>
        <div
            class="fixed top-1/4 right-0 w-[500px] h-[500px] bg-green-600/10 rounded-full blur-[150px] pointer-events-none">
        </div>
        <div
            class="fixed bottom-0 left-0 w-[500px] h-[500px] bg-blue-600/10 rounded-full blur-[150px] pointer-events-none">
        </div>

        <div class="max-w-4xl mx-auto relative z-10">

            <!-- Header -->
            <div class="text-center mb-12">
                <div
                    class="inline-flex items-center gap-2 px-4 py-1 rounded-full border border-green-500/30 bg-green-500/10 backdrop-blur-md mb-6">
                    <span class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span>
                    <span class="text-xs font-mono text-green-400 uppercase tracking-widest">Recruitment Protocol
                        Active</span>
                </div>
                <h1 class="text-3xl md:text-6xl font-black text-white mb-4 brand-font">JOIN THE <span
                        class="text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-blue-500">NETWORK</span>
                </h1>
                <p class="text-gray-400 max-w-xl mx-auto text-lg">
                    We are looking for elite designers, developers, and visionaries. <br>
                    Fill out the manifest below to initialize your application.
                </p>
            </div>

            <!-- Success Message (Hidden by default) -->
            <div id="success-message" class="hidden glass-panel p-12 rounded-2xl text-center border-green-500/50">
                <div
                    class="w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-6 border border-green-500/50">
                    <i data-lucide="check" class="w-10 h-10 text-green-400"></i>
                </div>
                <h2 class="text-3xl font-bold text-white mb-4 brand-font">TRANSMISSION RECEIVED</h2>
                <p class="text-gray-300 mb-8">Your profile has been encrypted and uploaded to our secure server. Our
                    recruitment AI will analyze your data. Stand by for contact.</p>
                <a href="index.html"
                    class="inline-block px-8 py-3 bg-white text-black font-bold rounded-full hover:bg-gray-200 transition-colors">Return
                    to Base</a>
            </div>

            <!-- Form Container -->
            <div id="form-container" class="glass-panel rounded-2xl p-4 md:p-12 relative overflow-hidden">
                <div class="scan-line"></div>

                <form id="application-form" class="space-y-8">

                    <!-- Auth Section -->
                    <div class="mb-8">
                        <!-- Login Button -->
                        <div id="auth-section" class="text-center">
                            <button type="button" id="google-login-btn"
                                class="inline-flex items-center gap-3 px-6 py-3 bg-white text-black font-bold rounded-full hover:bg-gray-200 transition-all transform hover:scale-105">
                                <svg class="w-5 h-5" viewBox="0 0 24 24">
                                    <path
                                        d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"
                                        fill="#4285F4" />
                                    <path
                                        d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"
                                        fill="#34A853" />
                                    <path
                                        d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"
                                        fill="#FBBC05" />
                                    <path
                                        d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"
                                        fill="#EA4335" />
                                </svg>
                                <span id="google-btn-text">Sign in with Google</span>
                            </button>
                            <p class="text-xs text-gray-500 mt-3">Sign in to auto-fill your details</p>
                        </div>

                        <!-- User Profile (Hidden by default) -->
                        <div id="user-profile"
                            class="hidden flex items-center justify-between bg-white/5 p-4 rounded-xl border border-white/10">
                            <div class="flex items-center gap-4">
                                <img id="user-avatar" src="" alt="User"
                                    class="w-10 h-10 rounded-full border border-white/20">
                                <div>
                                    <h4 id="user-name" class="text-white font-bold text-sm">User Name</h4>
                                    <p id="user-email" class="text-gray-400 text-xs">user@example.com</p>
                                </div>
                            </div>
                            <div class="flex items-center gap-2 text-green-400 text-xs font-mono">
                                <span class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span>
                                VERIFIED
                            </div>
                        </div>
                    </div>

                    <!-- Section 1: Identity -->
                    <div>
                        <h3
                            class="text-blue-400 font-bold uppercase tracking-widest text-xs mb-6 border-b border-white/10 pb-2 flex items-center gap-2">
                            <i data-lucide="user" class="w-4 h-4"></i> Identity Protocol
                        </h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div class="input-group">
                                <label class="input-label" for="name">Full Codename (Name)*</label>
                                <input type="text" id="name" required class="input-field" placeholder="John Doe">
                            </div>
                            <div class="input-group">
                                <label class="input-label" for="email">Comms Link (Email)*</label>
                                <input type="email" id="email" required class="input-field"
                                    placeholder="john@example.com">
                            </div>
                            <div class="input-group">
                                <label class="input-label" for="phone">Signal Frequency (Phone)</label>
                                <input type="tel" id="phone" class="input-field" placeholder="+91 98765 43210">
                            </div>
                            <div class="input-group">
                                <label class="input-label" for="location">Base Location</label>
                                <input type="text" id="location" class="input-field" placeholder="City, Country">
                            </div>
                        </div>
                    </div>

                    <!-- Section 2: Capability -->
                    <div>
                        <h3
                            class="text-purple-400 font-bold uppercase tracking-widest text-xs mb-6 border-b border-white/10 pb-2 flex items-center gap-2">
                            <i data-lucide="cpu" class="w-4 h-4"></i> Capability Matrix
                        </h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                            <div class="input-group">
                                <label class="input-label" for="role">Primary Class (Role)*</label>
                                <select id="role" required class="input-field appearance-none cursor-pointer">
                                    <option value="" disabled selected>Select Specialization</option>
                                    <option value="developer_frontend">Frontend Developer</option>
                                    <option value="developer_backend">Backend Developer</option>
                                    <option value="developer_fullstack">Full Stack Developer</option>
                                    <option value="designer_uiux">UI/UX Designer</option>
                                    <option value="designer_motion">Motion Graphic Designer</option>
                                    <option value="artist_3d">3D / CGI Artist</option>
                                    <option value="specialist_ai">AI / ML Specialist</option>
                                    <option value="strategy_marketing">Marketing Strategist</option>
                                    <option value="content_creator">Content Creator</option>
                                </select>
                                <i data-lucide="chevron-down"
                                    class="absolute right-4 top-9 text-gray-500 w-4 h-4 pointer-events-none"></i>
                            </div>
                            <div class="input-group">
                                <label class="input-label" for="experience">Combat Experience (Years)*</label>
                                <input type="number" id="experience" required min="0" max="50" class="input-field"
                                    placeholder="e.g. 3">
                            </div>
                        </div>
                        <div class="grid grid-cols-1 gap-6">
                            <div class="input-group">
                                <label class="input-label" for="portfolio">Proof of Work (Portfolio/GitHub)*</label>
                                <div class="relative">
                                    <i data-lucide="link" class="absolute left-4 top-3.5 text-gray-500 w-4 h-4"></i>
                                    <input type="url" id="portfolio" required class="input-field pl-10"
                                        placeholder="https://behance.net/yourprofile">
                                </div>
                            </div>
                            <div class="input-group">
                                <label class="input-label" for="linkedin">Professional Network (LinkedIn)</label>
                                <div class="relative">
                                    <i data-lucide="linkedin" class="absolute left-4 top-3.5 text-gray-500 w-4 h-4"></i>
                                    <input type="url" id="linkedin" class="input-field pl-10"
                                        placeholder="https://linkedin.com/in/yourprofile">
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Section 3: Intel -->
                    <div>
                        <h3
                            class="text-green-400 font-bold uppercase tracking-widest text-xs mb-6 border-b border-white/10 pb-2 flex items-center gap-2">
                            <i data-lucide="brain-circuit" class="w-4 h-4"></i> Intel & Analysis
                        </h3>
                        <div class="space-y-6">
                            <div class="input-group">
                                <label class="input-label" for="superpower">What is your 'Superpower'?*</label>
                                <p class="text-xs text-gray-500 mb-2">One thing you do better than 99% of people.</p>
                                <textarea id="superpower" required rows="2" class="input-field resize-none"
                                    placeholder="e.g. I can debug code in my sleep..."></textarea>
                            </div>
                            <div class="input-group">
                                <label class="input-label" for="why-varaha">Why Varaha Labs?</label>
                                <textarea id="why-varaha" rows="3" class="input-field resize-none"
                                    placeholder="Tell us why you want to join this specific mission..."></textarea>
                            </div>
                        </div>
                    </div>

                    <!-- Submit -->
                    <div class="pt-4">
                        <button type="submit" id="submit-btn"
                            class="group w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-white font-bold py-5 rounded-xl transition-all transform hover:scale-[1.01] shadow-lg shadow-blue-900/20 flex items-center justify-center gap-2">
                            <span id="btn-text">INITIATE APPLICATION</span>
                            <i id="btn-icon" data-lucide="send"
                                class="w-5 h-5 group-hover:translate-x-1 transition-transform"></i>
                        </button>
                        <p class="text-center text-gray-600 text-xs mt-4">By clicking initiate, you agree to our data
                            processing protocols.</p>
                    </div>

                </form>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-black py-8 border-t border-white/10 text-center">
        <p class="text-gray-600 text-sm">&copy; 2025 Varaha Labs Studio. Recruitment Portal.</p>
    </footer>

    <script>
        lucide.createIcons();
    </script>
</body>

</html>