<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta name="description" content="Contact Varaha Labs Studio. Let's build something impossible together.">
    <title>Contact Us | Varaha Labs</title>

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml"
        href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%233b82f6' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z'%3E%3C/path%3E%3C/svg%3E">

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <!-- FIREBASE CONNECTION -->
    <script type="module">
        import { signInAnonymously, onAuthStateChanged } from 'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';
        import { collection, addDoc, serverTimestamp } from
            'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';
        import { auth, db } from './Database.js';

        const appId = window.__app_id || 'default-app-id';

        let currentUser = null;

        // Auto Auth
        onAuthStateChanged(auth, (user) => {
            if (user) {
                currentUser = user;
                console.log("Secure Comm Link: Active");
                document.getElementById('status-light').classList.replace('bg-red-500', 'bg-green-500');
                document.getElementById('status-text').innerText = "SYSTEM ONLINE";
            } else {
                signInAnonymously(auth).catch(console.error);
            }
        });

        // Form Logic
        const contactForm = document.getElementById('main-contact-form');
        const successPanel = document.getElementById('success-panel');
        const formPanel = document.getElementById('form-panel');

        if (contactForm) {
            contactForm.addEventListener('submit', async (e) => {
                e.preventDefault();

                if (!currentUser) {
                    alert("Initializing uplinks... please wait.");
                    return;
                }

                const btn = document.getElementById('submit-btn');
                const btnText = document.getElementById('btn-text');

                btn.disabled = true;
                btnText.innerText = "TRANSMITTING...";
                btn.classList.add('opacity-70', 'cursor-wait');

                const formData = {
                    name: document.getElementById('c-name').value,
                    email: document.getElementById('c-email').value,
                    company: document.getElementById('c-company').value || "Independent",
                    service: document.getElementById('c-service').value,
                    budget: document.getElementById('c-budget').value,
                    message: document.getElementById('c-message').value,
                    timestamp: serverTimestamp(),
                    userId: currentUser.uid,
                    type: 'client_inquiry'
                };

                try {
                    // Saving to 'client_inquiries' collection
                    await addDoc(collection(db, 'artifacts', appId, 'public', 'data', 'client_inquiries'), formData);

                    // Animation
                    gsap.to(formPanel, {
                        opacity: 0, x: -50, duration: 0.5,
                        onComplete: () => {
                            formPanel.classList.add('hidden');
                            successPanel.classList.remove('hidden');
                            gsap.fromTo(successPanel, { opacity: 0, x: 50 }, { opacity: 1, x: 0, duration: 0.5 });
                        }
                    });

                    contactForm.reset();
                } catch (error) {
                    console.error("Error:", error);
                    alert("Transmission Failed. Please retry.");
                    btn.disabled = false;
                    btnText.innerText = "SEND MESSAGE";
                    btn.classList.remove('opacity-70', 'cursor-wait');
                }
            });
        }
    </script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Rajdhani:wght@300;400;500;600;700&display=swap');

        body {
            font-family: 'Rajdhani', sans-serif;
            background-color: #050505;
            color: #e2e8f0;
            overflow-x: hidden;
        }

        h1,
        h2,
        h3,
        .brand-font {
            font-family: 'Orbitron', sans-serif;
        }

        /* Form Auto-Fill Fix */
        input:-webkit-autofill,
        textarea:-webkit-autofill,
        select:-webkit-autofill {
            -webkit-box-shadow: 0 0 0 30px #0f1014 inset !important;
            -webkit-text-fill-color: white !important;
            transition: background-color 5000s ease-in-out 0s;
        }

        /* Glass Styles */
        .glass-panel {
            background: rgba(20, 20, 30, 0.7);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }

        /* Input Styles */
        .input-field {
            width: 100%;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 14px 16px;
            color: white;
            font-family: 'Rajdhani', sans-serif;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .input-field:focus {
            outline: none;
            border-color: #3b82f6;
            background: rgba(59, 130, 246, 0.05);
            box-shadow: 0 0 15px rgba(59, 130, 246, 0.1);
        }

        .input-label {
            display: block;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: #94a3b8;
            margin-bottom: 6px;
            font-weight: 700;
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 5px;
        }

        ::-webkit-scrollbar-track {
            background: #0a0a0a;
        }

        ::-webkit-scrollbar-thumb {
            background: #3b82f6;
            border-radius: 10px;
        }
    </style>
</head>

<body class="antialiased selection:bg-blue-500 selection:text-white">

    <!-- Navigation -->
    <nav class="fixed w-full z-50 bg-black/80 backdrop-blur-md border-b border-white/10">
        <div class="max-w-7xl mx-auto px-6">
            <div class="flex items-center justify-between h-20">
                <a href="index.html" class="flex items-center gap-2 group">
                    <i data-lucide="arrow-left"
                        class="text-gray-400 w-5 h-5 group-hover:text-white transition-colors"></i>
                    <span class="brand-font text-lg font-bold text-white tracking-wider">VARAHA<span
                            class="text-blue-500">LABS</span></span>
                </a>
                <div class="flex items-center gap-2 px-3 py-1 rounded-full border border-white/10 bg-white/5">
                    <div id="status-light" class="w-2 h-2 bg-red-500 rounded-full"></div>
                    <span id="status-text" class="text-[10px] font-mono text-gray-500 uppercase">OFFLINE</span>
                </div>
            </div>
        </div>
    </nav>

    <!-- 3D Background Container -->
    <div id="world-container" class="fixed inset-0 z-0 opacity-40 pointer-events-none"></div>

    <!-- Main Content -->
    <section class="min-h-screen pt-32 pb-20 px-4 relative z-10 flex items-center justify-center">
        <div class="max-w-6xl w-full grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">

            <!-- Left Side: Info -->
            <div class="space-y-8 text-center lg:text-left">
                <div>
                    <div
                        class="inline-flex items-center gap-2 px-4 py-1 rounded-full border border-blue-500/30 bg-blue-500/10 backdrop-blur-md mb-6">
                        <span class="w-2 h-2 bg-blue-500 rounded-full animate-pulse"></span>
                        <span class="text-xs font-mono text-blue-400 uppercase tracking-widest">Project Inquiry</span>
                    </div>
                    <h1 class="text-4xl md:text-7xl font-black text-white mb-6 brand-font leading-none">LET'S BUILD <br>
                        THE <span
                            class="text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-600">FUTURE</span>
                    </h1>
                    <p class="text-gray-400 text-lg max-w-md mx-auto lg:mx-0">
                        Ready to disrupt the market? Tell us about your vision. We specialize in turning "Impossible"
                        into "Done".
                    </p>
                </div>

                <div class="flex flex-col gap-4 text-sm text-gray-500">
                    <div
                        class="flex items-center gap-4 justify-center lg:justify-start p-4 bg-white/5 rounded-xl border border-white/5 hover:border-blue-500/30 transition-colors">
                        <div class="bg-blue-500/20 p-3 rounded-lg text-blue-400"><i data-lucide="mail"
                                class="w-5 h-5"></i></div>
                        <div class="text-left">
                            <p class="text-xs uppercase tracking-wider">Email Us</p>
                            <p class="text-white font-bold">contact@varahalabs.studio</p>
                        </div>
                    </div>
                    <div
                        class="flex items-center gap-4 justify-center lg:justify-start p-4 bg-white/5 rounded-xl border border-white/5 hover:border-purple-500/30 transition-colors">
                        <div class="bg-purple-500/20 p-3 rounded-lg text-purple-400"><i data-lucide="map-pin"
                                class="w-5 h-5"></i></div>
                        <div class="text-left">
                            <p class="text-xs uppercase tracking-wider">Base</p>
                            <p class="text-white font-bold">Jaipur, Rajasthan, India</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Side: Form -->
            <div class="relative">
                <!-- Success Panel -->
                <div id="success-panel"
                    class="hidden absolute inset-0 glass-panel rounded-3xl flex flex-col items-center justify-center text-center p-8 z-20 border-blue-500/50">
                    <div
                        class="w-20 h-20 bg-blue-500/20 rounded-full flex items-center justify-center mb-6 border border-blue-500/50 animate-bounce">
                        <i data-lucide="check" class="w-10 h-10 text-blue-400"></i>
                    </div>
                    <h3 class="text-2xl font-bold text-white mb-2">Message Encrypted & Sent</h3>
                    <p class="text-gray-400 mb-6 text-sm">Our team is analyzing your request. Expect a signal soon.</p>
                    <button onclick="window.location.reload()"
                        class="text-blue-400 hover:text-white font-mono text-xs uppercase tracking-widest border-b border-blue-400 pb-1">Send
                        Another</button>
                </div>

                <!-- Active Form Panel -->
                <div id="form-panel" class="glass-panel rounded-3xl p-6 md:p-10 relative overflow-hidden">
                    <div
                        class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500">
                    </div>

                    <form id="main-contact-form" class="space-y-6" autocomplete="off">
                        <!-- Hidden Inputs -->
                        <input type="text" style="display:none">
                        <input type="password" style="display:none">

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="input-label" for="c-name">Name</label>
                                <input type="text" id="c-name" required class="input-field" placeholder="Enter Name">
                            </div>
                            <div>
                                <label class="input-label" for="c-email">Email</label>
                                <input type="email" id="c-email" required class="input-field" placeholder="Enter Email">
                            </div>
                        </div>

                        <div>
                            <label class="input-label" for="c-company">Company / Brand</label>
                            <input type="text" id="c-company" class="input-field" placeholder="Organization Name">
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="input-label" for="c-service">Interested In</label>
                                <div class="relative">
                                    <select id="c-service" required class="input-field appearance-none cursor-pointer">
                                        <option value="" disabled selected>Select Service</option>
                                        <option value="web_dev">Web Development</option>
                                        <option value="app_dev">App Development</option>
                                        <option value="branding">Branding & Identity</option>
                                        <option value="marketing">Viral Marketing</option>
                                        <option value="ai_sol">AI Solutions</option>
                                    </select>
                                    <i data-lucide="chevron-down"
                                        class="absolute right-4 top-4 text-gray-500 w-4 h-4 pointer-events-none"></i>
                                </div>
                            </div>
                            <div>
                                <label class="input-label" for="c-budget">Est. Budget (USD)</label>
                                <div class="relative">
                                    <select id="c-budget" required class="input-field appearance-none cursor-pointer">
                                        <option value="" disabled selected>Select Range</option>
                                        <option value="1k-5k">$1,000 - $5,000</option>
                                        <option value="5k-10k">$5,000 - $10,000</option>
                                        <option value="10k-50k">$10,000 - $50,000</option>
                                        <option value="50k+">$50,000+</option>
                                    </select>
                                    <i data-lucide="chevron-down"
                                        class="absolute right-4 top-4 text-gray-500 w-4 h-4 pointer-events-none"></i>
                                </div>
                            </div>
                        </div>

                        <div>
                            <label class="input-label" for="c-message">Project Details</label>
                            <textarea id="c-message" required rows="3" class="input-field resize-none"
                                placeholder="Tell us about your goals..."></textarea>
                        </div>

                        <button type="submit" id="submit-btn"
                            class="w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-4 rounded-xl transition-all transform hover:scale-[1.02] shadow-lg shadow-blue-900/30 flex items-center justify-center gap-2 group">
                            <span id="btn-text">SEND MESSAGE</span>
                            <i data-lucide="send" class="w-4 h-4 group-hover:translate-x-1 transition-transform"></i>
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <script>
        lucide.createIcons();

        // --- 3D ABSTRACT MAP ---
        const container = document.getElementById('world-container');
        if (container) {
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            container.appendChild(renderer.domElement);

            // Creating a digital globe-like structure
            const geometry = new THREE.SphereGeometry(5, 32, 32);
            const material = new THREE.MeshBasicMaterial({
                color: 0x3b82f6,
                wireframe: true,
                transparent: true,
                opacity: 0.05
            });
            const sphere = new THREE.Mesh(geometry, material);
            scene.add(sphere);

            // Add some connecting lines/particles
            const particlesGeo = new THREE.BufferGeometry();
            const particlesCount = 500;
            const posArray = new Float32Array(particlesCount * 3);
            for (let i = 0; i < particlesCount * 3; i++) {
                posArray[i] = (Math.random() - 0.5) * 15;
            }
            particlesGeo.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
            const particlesMat = new THREE.PointsMaterial({
                size: 0.02,
                color: 0xa855f7,
                transparent: true,
                opacity: 0.5
            });
            const particles = new THREE.Points(particlesGeo, particlesMat);
            scene.add(particles);

            camera.position.z = 8;

            function animate() {
                requestAnimationFrame(animate);
                sphere.rotation.y += 0.001;
                sphere.rotation.x += 0.0005;
                particles.rotation.y -= 0.0005;
                renderer.render(scene, camera);
            }
            animate();

            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });
        }
    </script>
</body>

</html>